---
title: "Основы обработки данных с помощью R и Dplyr"
author: "artogal@yandex.ru"
format: 
  md:
    output-file: README.md
---

## Цель работы

1.  Развить практические навыки использования языка программирования R для обработки данных
2.  Закрепить знания базовых типов данных языка R
3.  Развить практические навыки использования функций обработки данных пакета `dplyr` – функции `select(), filter(), mutate(), arrange(), group_by()`

## Исходные данные

1.  Программное обеспечение Windows 10 Pro
2.  Rstudio Desktop
3.  Интерпретатор языка R 4.1
4.  Пакет dplyr

## План

1.  Проанализировать встроенный в пакет dplyr набор данных starwars
2.  Выполнить аталитические задачи с помощью языка R

## Шаги

```{r}
print(sessionInfo())
```

### Шаг 1. Анализ встроенного в пакет `dplyr` набор данных `starwars` с помощью языка R.

```{r}
library(dplyr)
```

```{r}
starwars
```

### Шаг 2. Ответы на вопросы

| 1.Сколько строк в датафрейме?

```{r}
starwars %>% nrow()
```

| 2. Сколько столбцов в датафрейме?

```{r}
starwars %>% ncol()
```

| 3. Как просмотреть примерный вид датафрейма?

```{r}
starwars %>% glimpse()
```

| 4. Сколько уникальных рас персонажей (species) представлено в данных?

```{r}
length(unique(starwars$species))
```

| 5. Найти самого высокого персонажа.

```{r}
starwars %>% 
  arrange(desc(height)) %>% 
  slice(1)
```

| 6. Найти всех персонажей ниже 170

```{r}
starwars %>% 
  filter(height<170) %>%
  select(name, height, species)
```

| 7. Подсчитать ИМТ (индекс массы тела) для всех персонажей. ИМТ подсчитать по формуле

```{r}
starwars %>% 
  mutate("IMT" = mass/(height*height)) %>% 
  select(name,IMT)
```

| 8. Найти 10 самых “вытянутых” персонажей. “Вытянутость” оценить по отношению массы (mass) к росту (height) персонажей.

```{r}
starwars %>% 
  mutate("MH" = mass/height) %>% 
  arrange(desc(MH)) %>%
  slice(1:10)
```

| 9. Найти средний возраст персонажей каждой расы вселенной Звездных войн

```{r}
starwars %>% 
  group_by(species) %>% 
  filter(!is.na(birth_year)) %>% 
  summarise(avg = mean(birth_year)) %>% 
  select(species, avg)
```

| 10. Найти самый распространенный цвет глаз персонажей вселенной Звездных

войн.

```{r}
starwars %>% 
  group_by(eye_color) %>%
  filter(!is.na(eye_color)) %>%
  summarise(k = n()) %>%
  arrange(desc(k)) %>%
  slice(1)
```

| 

```{r}
starwars %>% 
  group_by(species) %>%
  filter(!is.na(name)) %>%
  summarise(name_length = mean(nchar(name)))
```

## Оценка результата

В результате лабораторной работы мы:

1.  Получили практические навыки использования языка программирования R для обработки данных

2.  Закрепили знания базовых типов данных языка R

3.  Получили практические навыки использования функции обработки данных пакета dplyr

## Вывод

В результате выполнения работы были освоены основные инструменты обработки данных пакета dplyr языка R.
